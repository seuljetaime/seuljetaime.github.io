---
title: Java大量数据存储
tags:
---



# 数据库层面

1. 优化SQL、索引、SQL执行计划
2. 索引无效情况
3. 有时候SQL太复杂，或者需要计算时，可以拆分成多次查
4. 冗余字段
5. 定时生成报表
6. 物化视图及定时更新
7. 分区、分表、分库



### 分区

对Java应用透明，只需修改sql，让查询语句尽量定位到同个分区上或少量分区上。如果不能直接定位到分区，可以分多次查询，先定位到大表的分区



### 分表



### 分库

略



# 分布式缓存

1. 缓存常用不怎么变的数据
2. 首页统计数据，可以考虑不做实时统计，改为10～30定时更新到缓存



# 历史数据、日志

ElasticSearch